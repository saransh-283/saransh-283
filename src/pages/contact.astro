---
import EmailIcon from "@icons/email.astro";
import Layout from "@layouts/Layout.astro";

const env = import.meta.env;
const prod = env.PROD;

const key =
  prod ? env.WEB3FORMS_KEY_PROD : env.WEB3FORMS_KEY_DEV;
---

<Layout title="Contact | Saransh">
  <main class="mx-auto max-w-3xl">
    <header class="pt-4 text-center">
      <div class="flex gap-6 justify-center items-center">
        <div class="mx-auto h-9 w-9 text-sky-400">
          <EmailIcon className="h-9 w-9" />
        </div>
      </div>
      <h1 class="mt-3 text-4xl font-semibold tracking-tight text-neutral-900">Contact Me</h1>
      <p class="mx-auto mt-3 max-w-xl text-sm leading-6 text-neutral-500">Reach out to me over email or fill up this contact form. I will get back to you ASAP - I promise.</p>
    </header>

    <section class="mt-10">
      <form action="https://api.web3forms.com/submit" method="POST" class="mx-auto max-w-2xl">
        <input type="hidden" name="access_key" value={key}>
        <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
          <label class="block">
            <span class="sr-only">Your Name</span>
            <input required type="text" name="name" placeholder="Your Name" class="w-full rounded-xl bg-neutral-50 px-4 py-3 text-sm text-neutral-700 placeholder:text-neutral-400 ring-1 ring-black/5 focus:outline-none focus:ring-2 focus:ring-neutral-900/20" />
          </label>
          <label class="block relative">
            <span class="sr-only">Your email address</span>
            <input required type="email" name="email" placeholder="Your email address" class="w-full rounded-xl bg-neutral-50 px-4 py-3 pr-10 text-sm text-neutral-700 placeholder:text-neutral-400 ring-1 ring-black/5 focus:outline-none focus:ring-2 focus:ring-neutral-900/20" />
          </label>
        </div>

        <label class="mt-4 block">
          <span class="sr-only">Your Message</span>
          <textarea required name="message" rows={10} placeholder="Your Message" class="w-full resize-none rounded-xl bg-neutral-50 px-4 py-3 text-sm text-neutral-700 placeholder:text-neutral-400 ring-1 ring-black/5 focus:outline-none focus:ring-2 focus:ring-neutral-900/20"></textarea>
        </label>

        {prod &&<div class="h-captcha mx-auto mt-4 w-min" data-captcha="true"></div>}

        <button type="submit" class="mt-5 w-full rounded-xl bg-neutral-100 px-4 py-3 text-sm font-semibold text-neutral-500 ring-1 ring-black/5 hover:bg-neutral-200/70"> Submit </button>
      </form>
    </section>
  </main>
</Layout>

<script src="https://web3forms.com/client/script.js" async defer></script>