---
import Image from "@components/ui/Image.astro";
import Tag from "@components/ui/Tag.astro";
import ArrowRight from "@icons/arrow-right.astro";

export type ProjectRowData = {
	title: string;
	description: string;
	href: string;
	thumbnail?: string;
	tags: string[];
};

const { title, description, href, thumbnail, tags } = Astro.props as ProjectRowData;
---

<article class="flex items-start gap-6">
	<a href={href} class="block shrink-0">
		<div class="h-30 w-30 overflow-hidden rounded-lg bg-neutral-100 ring-1 ring-black/5">
			{thumbnail ? (
				<Image src={`${thumbnail}?raw=true`} alt={title} containerClass="h-full w-full" imgClass="object-cover opacity-0" />
			) : (
				<div class="h-full w-full" />
			)}
		</div>
	</a>

	<div class="min-w-0">
		<div class="flex items-start justify-between gap-3">
			<div class="min-w-0">
				<h3 class="truncate text-base font-semibold text-neutral-900">{title}</h3>
				<p class="mt-1 line-clamp-2 text-sm text-neutral-500">{description}</p>
			</div>
			<a href={href} class="mt-0.5 shrink-0 text-neutral-300 hover:text-neutral-500" aria-label={`Open ${title}`}>
				<span aria-hidden>
					<ArrowRight className="h-5 w-5" />
				</span>
			</a>
		</div>
		<div class="mt-3 flex flex-wrap gap-2">
			{tags.map((tag) => (
				<Tag text={tag} />
			))}
		</div>
	</div>
</article>
